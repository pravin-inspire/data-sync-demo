/* Modified: December 1, 2014, 04:08:29 */
!function(){function a(){i.checked?(m.classList.add("on"),h.merge({door:!0})):(m.classList.remove("on"),h.merge({door:!1}))}function b(){j.checked?(n.classList.add("on"),h.merge({light:!0})):(n.classList.remove("on"),h.merge({light:!1}))}function c(){k.checked?(o.classList.add("on"),l.play(),h.merge({music:!0})):(o.classList.remove("on"),l.pause(),h.merge({music:!1}))}function d(a){a===!0?(m.classList.add("on"),i.checked=!0):(m.classList.remove("on"),i.checked=!1)}function e(a){a===!0?(n.classList.add("on"),j.checked=!0):(n.classList.remove("on"),j.checked=!1)}function f(a){a===!0?(o.classList.add("on"),l.play(),k.checked=!0):(o.classList.remove("on"),l.pause(),k.checked=!1)}var g=PUBNUB.init({subscribe_key:"sub-c-cb09c518-75a1-11e4-a290-02ee2ddab7fe",publish_key:"pub-c-161fc194-bfd2-44e1-af19-0d44c834089d"}),h=g.sync("home"),i=document.getElementById("door"),j=document.getElementById("light"),k=document.getElementById("music"),l=document.getElementsByTagName("audio")[0],m=document.querySelector(".door"),n=document.querySelector(".light"),o=document.querySelector(".music");h.on.ready(function(a){console.log(JSON.stringify(a.value())),d(a.value().door),e(a.value().light),f(a.value().music)}),h.on.merge(function(a){console.log(JSON.stringify(a.value())),d(a.value().door),e(a.value().light),f(a.value().music)}),i.addEventListener("change",a,!1),j.addEventListener("change",b,!1),k.addEventListener("change",c,!1)}(),function(){function P(){return function(){}}function sa(){return"x"+ ++ba+ +new Date}function ta(){return+new Date}function xa(a,b){var c=a.join(ka),d=[];return b?(T(b,function(a,b){var c="object"==typeof b?JSON.stringify(b):b;"undefined"!=typeof b&&b!=z&&0<encodeURIComponent(c).length&&d.push(a+"="+encodeURIComponent(c))}),c+="?"+d.join(la)):c}function Ba(a,b){function c(){e+b>ta()?(clearTimeout(d),d=setTimeout(c,b)):(e=ta(),a())}var d,e=0;return c}function Ca(a,b){var c=[];return T(a||[],function(a){b(a)&&c.push(a)}),c}function Da(a,b){return a.replace(pa,function(a,c){return b[c]||a})}function wa(a){var b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:3&b|8).toString(16)});return a&&a(b),b}function T(a,b){if(a&&b)if(a&&(Array.isArray&&Array.isArray(a)||"number"==typeof a.length))for(var c=0,d=a.length;d>c;)b.call(a[c],a[c],c++);else for(c in a)a.hasOwnProperty&&a.hasOwnProperty(c)&&b.call(a[c],c,a[c])}function Ea(a,b){var c=[];return T(a||[],function(a,d){c.push(b(a,d))}),c}function Fa(a){return encodeURIComponent(a)}function Ga(a,b){var c=[];return T(a,function(a,d){b?0>a.search("-pnpres")&&d.n&&c.push(a):d.n&&c.push(a)}),c.sort()}function Ha(a){return"undefined"==typeof a||a===z||0==a.length}function Ia(a){return"undefined"==typeof a||a==z}function Pa(){setTimeout(function(){ca||(ca=1,T(ha,function(a){a()}))},S)}function Ta(a,b){var c,d,e="";if(b){if(c=a[15],c>16)throw"Decryption error: Maybe bad key";if(16==c)return"";for(d=0;16-c>d;d++)e+=String.fromCharCode(a[d])}else for(d=0;16>d;d++)e+=String.fromCharCode(a[d]);return e}function Ua(a,b){var c,d=[];if(!b)try{a=unescape(encodeURIComponent(a))}catch(e){throw"Error on UTF-8 encode"}for(c=0;c<a.length;c++)d[c]=a.charCodeAt(c);return d}function Va(a,b){var c,d=Ra>=12?3:2,e=[],f=[],e=[],f=[],g=a.concat(b);for(e[0]=GibberishAES.N.P(g),f=e[0],c=1;d>c;c++)e[c]=GibberishAES.N.P(e[c-1].concat(g)),f=f.concat(e[c]);return e=f.slice(0,4*V),f=f.slice(4*V,4*V+16),{key:e,H:f}}function Wa(a,b,c){var d,b=Xa(b),e=Math.ceil(a.length/16),f=[],g=[];for(d=0;e>d;d++){var h=f,i=d,j=a.slice(16*d,16*d+16),k=[],l=u,l=u;for(16>j.length&&(l=16-j.length,k=[l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l]),l=0;l<j.length;l++)k[l]=j[l];h[i]=k}for(0===a.length%16&&f.push([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]),d=0;d<f.length;d++)f[d]=0===d?Ya(f[d],c):Ya(f[d],g[d-1]),g[d]=Za(f[d],b);return g}function $a(a,b,c,d){var e,b=Xa(b),f=a.length/16,g=[],h=[],i="";for(e=0;f>e;e++)g.push(a.slice(16*e,16*(e+1)));for(e=g.length-1;e>=0;e--)h[e]=ab(g[e],b),h[e]=0===e?Ya(h[e],c):Ya(h[e],g[e-1]);for(e=0;f-1>e;e++)i+=Ta(h[e]);var j,i=i+Ta(h[e],y);if(d)j=i;else try{j=decodeURIComponent(escape(i))}catch(k){throw"Bad Key"}return j}function Za(a,b){Sa=B;var c,d=bb(a,b,0);for(c=1;Ra+1>c;c++)d=cb(d),d=db(d),Ra>c&&(d=eb(d)),d=bb(d,b,c);return d}function ab(a,b){Sa=y;var c,d=bb(a,b,Ra);for(c=Ra-1;c>-1;c--)d=db(d),d=cb(d),d=bb(d,b,c),c>0&&(d=eb(d));return d}function cb(a){var b,c=Sa?fb:gb,d=[];for(b=0;16>b;b++)d[b]=c[a[b]];return d}function db(a){var b,c=[],d=Sa?[0,13,10,7,4,1,14,11,8,5,2,15,12,9,6,3]:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11];for(b=0;16>b;b++)c[b]=a[d[b]];return c}function eb(a){var b,c=[];if(Sa)for(b=0;4>b;b++)c[4*b]=hb[a[4*b]]^kb[a[1+4*b]]^lb[a[2+4*b]]^mb[a[3+4*b]],c[1+4*b]=mb[a[4*b]]^hb[a[1+4*b]]^kb[a[2+4*b]]^lb[a[3+4*b]],c[2+4*b]=lb[a[4*b]]^mb[a[1+4*b]]^hb[a[2+4*b]]^kb[a[3+4*b]],c[3+4*b]=kb[a[4*b]]^lb[a[1+4*b]]^mb[a[2+4*b]]^hb[a[3+4*b]];else for(b=0;4>b;b++)c[4*b]=tb[a[4*b]]^ub[a[1+4*b]]^a[2+4*b]^a[3+4*b],c[1+4*b]=a[4*b]^tb[a[1+4*b]]^ub[a[2+4*b]]^a[3+4*b],c[2+4*b]=a[4*b]^a[1+4*b]^tb[a[2+4*b]]^ub[a[3+4*b]],c[3+4*b]=ub[a[4*b]]^a[1+4*b]^a[2+4*b]^tb[a[3+4*b]];return c}function bb(a,b,c){var d,e=[];for(d=0;16>d;d++)e[d]=a[d]^b[c][d];return e}function Ya(a,b){var c,d=[];for(c=0;16>c;c++)d[c]=a[c]^b[c];return d}function Xa(a){var b,c,d=[],e=[],f=[];for(b=0;V>b;b++)c=[a[4*b],a[4*b+1],a[4*b+2],a[4*b+3]],d[b]=c;for(b=V;4*(Ra+1)>b;b++){for(d[b]=[],a=0;4>a;a++)e[a]=d[b-1][a];if(0===b%V){for(a=e[0],c=u,c=0;4>c;c++)e[c]=e[c+1];e[3]=a,e=vb(e),e[0]^=wb[b/V-1]}else V>6&&4==b%V&&(e=vb(e));for(a=0;4>a;a++)d[b][a]=d[b-V][a]^e[a]}for(b=0;Ra+1>b;b++)for(f[b]=[],e=0;4>e;e++)f[b].push(d[4*b+e][0],d[4*b+e][1],d[4*b+e][2],d[4*b+e][3]);return f}function vb(a){for(var b=0;4>b;b++)a[b]=gb[a[b]];return a}function xb(a,b){var c=[];for(i=0;i<a.length;i+=b)c[i/b]=parseInt(a.substr(i,b),16);return c}function yb(a){for(var b=[],c=0;256>c;c++){for(var d=a,e=c,f=u,g=u,f=g=0;8>f;f++)g=1==(1&e)?g^d:g,d=d>127?283^d<<1:d<<1,e>>>=1;b[c]=g}return b}var u=void 0,y=!0,z=null,B=!1;window.JSON&&window.JSON.stringify||function(){function a(){try{return this.valueOf()}catch(a){return z}}function c(a){return d.lastIndex=0,d.test(a)?'"'+a.replace(d,function(a){var b=q[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(d,g){var h,i,j,k,m,n=e,o=g[d];switch(o&&"object"==typeof o&&(o=a.call(o)),"function"==typeof f&&(o=f.call(g,d,o)),typeof o){case"string":return c(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(e+=l,m=[],"[object Array]"===Object.prototype.toString.apply(o)){for(k=o.length,h=0;k>h;h+=1)m[h]=b(h,o)||"null";return j=0===m.length?"[]":e?"[\n"+e+m.join(",\n"+e)+"\n"+n+"]":"["+m.join(",")+"]",e=n,j}if(f&&"object"==typeof f)for(k=f.length,h=0;k>h;h+=1)i=f[h],"string"==typeof i&&(j=b(i,o))&&m.push(c(i)+(e?": ":":")+j);else for(i in o)Object.hasOwnProperty.call(o,i)&&(j=b(i,o))&&m.push(c(i)+(e?": ":":")+j);return j=0===m.length?"{}":e?"{\n"+e+m.join(",\n"+e)+"\n"+n+"}":"{"+m.join(",")+"}",e=n,j}}window.JSON||(window.JSON={});var d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,l,q={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},f;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,c,d){var g;if(l=e="","number"==typeof d)for(g=0;d>g;g+=1)l+=" ";else"string"==typeof d&&(l=d);if((f=c)&&"function"!=typeof c&&("object"!=typeof c||"number"!=typeof c.length))throw Error("JSON.stringify");return b("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(a){return eval("("+a+")")})}();var ba=1,ca=B,ha=[],ia="-pnpres",S=1e3,ka="/",la="&",pa=/{([\w\-]+)}/g;DEBUG=0;var ua,va=Math.floor(20*Math.random());ua=function(a,b){return 0<a.indexOf("pubsub.")&&a.replace("pubsub","ps"+(b?wa().split("-")[0]:20>++va?va:va=1))||a},Object.size=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c};var Qa,Ra=14,V=8,Sa=B,gb=xb("637c777bf26b6fc53001672bfed7ab76ca82c97dfa5947f0add4a2af9ca472c0b7fd9326363ff7cc34a5e5f171d8311504c723c31896059a071280e2eb27b27509832c1a1b6e5aa0523bd6b329e32f8453d100ed20fcb15b6acbbe394a4c58cfd0efaafb434d338545f9027f503c9fa851a3408f929d38f5bcb6da2110fff3d2cd0c13ec5f974417c4a77e3d645d197360814fdc222a908846eeb814de5e0bdbe0323a0a4906245cc2d3ac629195e479e7c8376d8dd54ea96c56f4ea657aae08ba78252e1ca6b4c6e8dd741f4bbd8b8a703eb5664803f60e613557b986c11d9ee1f8981169d98e949b1e87e9ce5528df8ca1890dbfe6426841992d0fb054bb16",2),fb,zb=gb,Ab=[];for(i=0;i<zb.length;i++)Ab[zb[i]]=i;fb=Ab;var wb=xb("01020408102040801b366cd8ab4d9a2f5ebc63c697356ad4b37dfaefc591",2),tb=yb(2),ub=yb(3),mb=yb(9),kb=yb(11),lb=yb(13),hb=yb(14),Bb,Eb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fb=Eb.split("");if("function"==typeof Array.indexOf&&(Eb=Fb),Bb={encode:function(a){var b,c=[],d="";for(b=0;b<16*a.length;b++)c.push(a[Math.floor(b/16)][b%16]);for(b=0;b<c.length;b+=3)d+=Fb[c[b]>>2],d+=Fb[(3&c[b])<<4|c[b+1]>>4],d=c[b+1]!==u?d+Fb[(15&c[b+1])<<2|c[b+2]>>6]:d+"=",d=c[b+2]!==u?d+Fb[63&c[b+2]]:d+"=";for(a=d.slice(0,64),b=1;b<Math.ceil(d.length/64);b++)a+=d.slice(64*b,64*b+64)+(Math.ceil(d.length/64)==b+1?"":"\n");return a},decode:function(a){var b,a=a.replace(/\n/g,""),c=[],d=[],e=[];for(b=0;b<a.length;b+=4)d[0]=Eb.indexOf(a.charAt(b)),d[1]=Eb.indexOf(a.charAt(b+1)),d[2]=Eb.indexOf(a.charAt(b+2)),d[3]=Eb.indexOf(a.charAt(b+3)),e[0]=d[0]<<2|d[1]>>4,e[1]=(15&d[1])<<4|d[2]>>2,e[2]=(3&d[2])<<6|d[3],c.push(e[0],e[1],e[2]);return c=c.slice(0,c.length-c.length%16)}},Qa={size:function(a){switch(a){case 128:Ra=10,V=4;break;case 192:Ra=12,V=6;break;case 256:Ra=14,V=8;break;default:throw"Invalid Key Size Specified:"+a}},h2a:function(a){var b=[];return a.replace(/(..)/g,function(a){b.push(parseInt(a,16))}),b},expandKey:Xa,encryptBlock:Za,decryptBlock:ab,Decrypt:Sa,s2a:Ua,rawEncrypt:Wa,rawDecrypt:$a,dec:function(a,b,c){var a=Bb.ja(a),d=a.slice(8,16),d=Va(Ua(b,c),d),b=d.key,d=d.H,a=a.slice(16,a.length);return a=$a(a,b,d,c)},openSSLKey:Va,a2h:function(a){var b,c="";for(b=0;b<a.length;b++)c+=(16>a[b]?"0":"")+a[b].toString(16);return c},enc:function(a,b,c){var d;d=[];var e;for(e=0;8>e;e++)d=d.concat(Math.floor(256*Math.random()));return e=Va(Ua(b,c),d),b=e.key,e=e.H,d=[[83,97,108,116,101,100,95,95].concat(d)],a=Ua(a,c),a=Wa(a,b,e),a=d.concat(a),Bb.ka(a)},Hash:{MD5:function(a){function b(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f}function c(a,c,d,e,f,g,h){return a=b(a,b(b(c&d|~c&e,f),h)),b(a<<g|a>>>32-g,c)}function d(a,c,d,e,f,g,h){return a=b(a,b(b(c&e|d&~e,f),h)),b(a<<g|a>>>32-g,c)}function e(a,c,d,e,f,g,h){return a=b(a,b(b(c^d^e,f),h)),b(a<<g|a>>>32-g,c)}function f(a,c,d,e,f,g,h){return a=b(a,b(b(d^(c|~e),f),h)),b(a<<g|a>>>32-g,c)}function g(a){var b,c,d=[];for(c=0;3>=c;c++)b=a>>>8*c&255,d=d.concat(b);return d}var h,i,j,k,l,m,n,o,p=[],q=xb("67452301efcdab8998badcfe10325476d76aa478e8c7b756242070dbc1bdceeef57c0faf4787c62aa8304613fd469501698098d88b44f7afffff5bb1895cd7be6b901122fd987193a679438e49b40821f61e2562c040b340265e5a51e9b6c7aad62f105d02441453d8a1e681e7d3fbc821e1cde6c33707d6f4d50d87455a14eda9e3e905fcefa3f8676f02d98d2a4c8afffa39428771f6816d9d6122fde5380ca4beea444bdecfa9f6bb4b60bebfbc70289b7ec6eaa127fad4ef308504881d05d9d4d039e6db99e51fa27cf8c4ac5665f4292244432aff97ab9423a7fc93a039655b59c38f0ccc92ffeff47d85845dd16fa87e4ffe2ce6e0a30143144e0811a1f7537e82bd3af2352ad7d2bbeb86d391",8),p=a.length;for(h=p+8,i=16*((h-h%64)/64+1),j=[],l=k=0;p>l;)h=(l-l%4)/4,k=8*(l%4),j[h]|=a[l]<<k,l++;for(h=(l-l%4)/4,j[h]|=128<<8*(l%4),j[i-2]=p<<3,j[i-1]=p>>>29,p=j,l=q[0],m=q[1],n=q[2],o=q[3],a=0;a<p.length;a+=16)h=l,i=m,j=n,k=o,l=c(l,m,n,o,p[a+0],7,q[4]),o=c(o,l,m,n,p[a+1],12,q[5]),n=c(n,o,l,m,p[a+2],17,q[6]),m=c(m,n,o,l,p[a+3],22,q[7]),l=c(l,m,n,o,p[a+4],7,q[8]),o=c(o,l,m,n,p[a+5],12,q[9]),n=c(n,o,l,m,p[a+6],17,q[10]),m=c(m,n,o,l,p[a+7],22,q[11]),l=c(l,m,n,o,p[a+8],7,q[12]),o=c(o,l,m,n,p[a+9],12,q[13]),n=c(n,o,l,m,p[a+10],17,q[14]),m=c(m,n,o,l,p[a+11],22,q[15]),l=c(l,m,n,o,p[a+12],7,q[16]),o=c(o,l,m,n,p[a+13],12,q[17]),n=c(n,o,l,m,p[a+14],17,q[18]),m=c(m,n,o,l,p[a+15],22,q[19]),l=d(l,m,n,o,p[a+1],5,q[20]),o=d(o,l,m,n,p[a+6],9,q[21]),n=d(n,o,l,m,p[a+11],14,q[22]),m=d(m,n,o,l,p[a+0],20,q[23]),l=d(l,m,n,o,p[a+5],5,q[24]),o=d(o,l,m,n,p[a+10],9,q[25]),n=d(n,o,l,m,p[a+15],14,q[26]),m=d(m,n,o,l,p[a+4],20,q[27]),l=d(l,m,n,o,p[a+9],5,q[28]),o=d(o,l,m,n,p[a+14],9,q[29]),n=d(n,o,l,m,p[a+3],14,q[30]),m=d(m,n,o,l,p[a+8],20,q[31]),l=d(l,m,n,o,p[a+13],5,q[32]),o=d(o,l,m,n,p[a+2],9,q[33]),n=d(n,o,l,m,p[a+7],14,q[34]),m=d(m,n,o,l,p[a+12],20,q[35]),l=e(l,m,n,o,p[a+5],4,q[36]),o=e(o,l,m,n,p[a+8],11,q[37]),n=e(n,o,l,m,p[a+11],16,q[38]),m=e(m,n,o,l,p[a+14],23,q[39]),l=e(l,m,n,o,p[a+1],4,q[40]),o=e(o,l,m,n,p[a+4],11,q[41]),n=e(n,o,l,m,p[a+7],16,q[42]),m=e(m,n,o,l,p[a+10],23,q[43]),l=e(l,m,n,o,p[a+13],4,q[44]),o=e(o,l,m,n,p[a+0],11,q[45]),n=e(n,o,l,m,p[a+3],16,q[46]),m=e(m,n,o,l,p[a+6],23,q[47]),l=e(l,m,n,o,p[a+9],4,q[48]),o=e(o,l,m,n,p[a+12],11,q[49]),n=e(n,o,l,m,p[a+15],16,q[50]),m=e(m,n,o,l,p[a+2],23,q[51]),l=f(l,m,n,o,p[a+0],6,q[52]),o=f(o,l,m,n,p[a+7],10,q[53]),n=f(n,o,l,m,p[a+14],15,q[54]),m=f(m,n,o,l,p[a+5],21,q[55]),l=f(l,m,n,o,p[a+12],6,q[56]),o=f(o,l,m,n,p[a+3],10,q[57]),n=f(n,o,l,m,p[a+10],15,q[58]),m=f(m,n,o,l,p[a+1],21,q[59]),l=f(l,m,n,o,p[a+8],6,q[60]),o=f(o,l,m,n,p[a+15],10,q[61]),n=f(n,o,l,m,p[a+6],15,q[62]),m=f(m,n,o,l,p[a+13],21,q[63]),l=f(l,m,n,o,p[a+4],6,q[64]),o=f(o,l,m,n,p[a+11],10,q[65]),n=f(n,o,l,m,p[a+2],15,q[66]),m=f(m,n,o,l,p[a+9],21,q[67]),l=b(l,h),m=b(m,i),n=b(n,j),o=b(o,k);return g(l).concat(g(m),g(n),g(o))}},Base64:Bb},!window.PUBNUB){var Nb=function(a,b){return X.HmacSHA256(a,b).toString(X.enc.Base64)},Ob=function(a){return document.getElementById(a)},Pb=function(a){console.error(a)},Qb=function(a,b){var c=[];return T(a.split(/\s+/),function(a){T((b||document).getElementsByTagName(a),function(a){c.push(a)})}),c},Rb=function(a,b,c){T(a.split(","),function(a){function d(a){a||(a=window.event),c(a)||(a.cancelBubble=y,a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation())}b.addEventListener?b.addEventListener(a,d,B):b.attachEvent?b.attachEvent("on"+a,d):b["on"+a]=d})},Sb=function(){return Qb("head")[0]},Tb=function(a,b,c){return c?void a.setAttribute(b,c):a&&a.getAttribute&&a.getAttribute(b)},Ub=function(a,b){for(var c in b)if(b.hasOwnProperty(c))try{a.style[c]=b[c]+(0<"|width|height|top|left|".indexOf(c)&&"number"==typeof b[c]?"px":"")}catch(d){}},Vb=function(a){return document.createElement(a)},Yb=function(){return Wb||Xb()?0:sa()},Zb=function(a){function b(a,b){t||(t=1,r.onerror=z,clearTimeout(u),a||!b||w(b),setTimeout(function(){a&&v();var b=Ob(s),c=b&&b.parentNode;c&&c.removeChild(b)},S))}if(Wb||Xb()){a:{var c,d,e=function(){if(!g){g=1,clearTimeout(i);try{d=JSON.parse(c.responseText)}catch(a){return o(1)}f=1,l(d)}},f=0,g=0,h=a.timeout||1e4,i=setTimeout(function(){o(1,{message:"timeout"})},h),j=a.d||P(),k=a.data||{},l=a.e||P(),m=a.mode||"GET",n=!a.D,o=function(a,b){f||(f=1,clearTimeout(i),c&&(c.onerror=c.onload=z,c.abort&&c.abort(),c=z),a&&j(b))};try{c=Xb()||window.XDomainRequest&&new XDomainRequest||new XMLHttpRequest,c.onerror=c.onabort=function(){o(1,c.responseText||{error:"Network Connection Error"})},c.onload=c.onloadend=e,c.onreadystatechange=function(){if(c&&4==c.readyState)switch(c.status){case 401:case 402:case 403:case 500:try{d=JSON.parse(c.responseText),o(1,d)}catch(a){return o(1,c.responseText)}}};var p=xa(a.url,k);c.open(m,p,n),n&&(c.timeout=h),c.send(a.body)}catch(q){o(0),Wb=0,a=Zb(a);break a}a=o}return a}var r=Vb("script"),e=a.a,s=sa(),t=0,u=setTimeout(function(){b(1,{message:"timeout"})},a.timeout||1e4),v=a.d||P(),h=a.data||{},w=a.e||P();return window[e]=function(a){b(0,a)},a.D||(r[$b]=$b),r.onerror=function(){b(1)},r.src=xa(a.url,h),Tb(r,"id",s),Sb().appendChild(r),b},ac=function(){return"onLine"in navigator?navigator.onLine:1},Xb=function(){if(!bc||!bc.get)return 0;var a={id:Xb.id++,send:P(),abort:function(){a.id={}},open:function(b,c){Xb[a.id]=a,bc.get(a.id,c)}};return a},$b="async",Wb=-1==navigator.userAgent.indexOf("MSIE 6");window.console||(window.console=window.console||{}),console.log||(console.log=console.error=(window.opera||{}).postError||P());var cc,dc=window.localStorage;cc={get:function(a){try{return dc?dc.getItem(a):-1==document.cookie.indexOf(a)?z:((document.cookie||"").match(RegExp(a+"=([^;]+)"))||[])[1]||z}catch(b){}},set:function(a,b){try{if(dc)return dc.setItem(a,b)&&0;document.cookie=a+"="+b+"; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/"}catch(c){}}};var ec={list:{},unbind:function(a){ec.list[a]=[]},bind:function(a,b){(ec.list[a]=ec.list[a]||[]).push(b)},fire:function(a,b){T(ec.list[a]||[],function(a){a(b)})}},fc=Ob("pubnub")||0,gc=function(a){function b(){}function c(a,b){return a?Ha(b)?a.path:Ha(a.path)?b:b+"."+a.path:b}function d(a){return f(a,"error")}function e(a){return f(a,["success","callback"])}function f(a,b){if(a){if("object"!=typeof b||!b[0])return a[b];for(var c in b)if(a[b[c]])return a[b[c]]}return z}function g(a){a.mode="PUT",i(a,u)}function h(a){var b;b=a.callback||a.success||b;var c=a.error||P(),d=Lb(),e={uuid:$b,auth:a.auth_key||fb},f=a.object_id,a=a.path;if(f)if(eb){var g=f.split("."),f=g.shift();a||(a=g.join(".")),f=[kb,"v1","datasync","sub-key",eb,"pub-key",db,"obj-id",encodeURIComponent(f)],a&&f.push(encodeURI(a.split(".").join("/"))),"0"!=d&&(e.callback=d),Hb({a:d,data:W(e),e:function(a){K(a,b,c)},d:function(a){J(a,c)},url:f,mode:"DELETE"})}else Jb("Missing Subscribe Key");else Jb("Missing Object Id")}function i(a,b){var b=a.callback||a.success||b,c=a.error||P(),d=a.object_id,e=a.data,f=Lb(),g=a.sort_key,h={uuid:$b,auth:a.auth_key||fb},i=a.mode||"PATCH",j=a.path;d?Ia(e)?Jb("Missing Data"):eb?db?(j&&0!=j.length||(j=d.split("."),d=j.shift(),j=j.join(".")),d=[kb,"v1","datasync","sub-key",eb,"pub-key",db,"obj-id",encodeURIComponent(d)],j&&d.push(Fa(j.split(".").join("/"))),"0"!=f&&(h.callback=f),g&&0<g.length&&(h.sort_key=g),Hb({a:f,data:W(h),body:JSON.stringify(e),e:function(a){K(a,b,c)},d:function(a){J(a,c)},url:d,mode:i})):Jb("Missing Publish Key"):Jb("Missing Subscribe Key"):Jb("Missing Object Id")}function j(a,b){if(!a)return z;var c,d=V(a);for(c in d)if(a[d[c]].pn_val===b)return d[c];return z}function l(a,b){var c,d={};for(c in zb)a&&0==a.indexOf(c)&&zb[c][b]&&(d[c]=zb[c][b]);return d}function m(a){var b,c={};for(b in zb)0==b.indexOf(a+".")&&zb[b].resync&&(c[b]=zb[b].resync);return c}function o(a,b){try{return zb[a][b]}catch(c){return z}}function p(a,b,c){zb[a]||(zb[a]={ready_called:B,is_ready:B}),zb[a][c]=b,q()}function q(){for(var a in zb){var b,c=zb[a],d=c.ready,e={};if(Ha(a)||0==a.length||(b=a.split("."),0!=b.length&&(e.id=b.shift(),e.path=b.join("."))),b=e,e=b.id,b=b.path,c.is_ready&&!c.ready_called&&d){var f={},g=C(e,b);f.type="ready",f.data=JSON.parse(JSON.stringify(g,s)||z),D(g)&&(f.each=function(b){if(!D(g))return z;var c,d=E(g);for(c in d)b&&b(bc.sync(a+"."+d[c]),d[c])}),f.value=function(a){return function(b){return t(a,b)}}(f.data),c.ready_called=y,d(f)}}}function r(a,b,c){var b=b.split("."),d=b.shift(),e=b.join("."),f=C(d,e),b={};b.delta=a,b.type="merge",b.data=JSON.parse(JSON.stringify(f,s)||z),D(f)&&(b.each=function(a){if(!D(f))return z;var b,c=Object.keys(f);for(b in c)a&&a(bc.sync(location+"."+c[b]),c[b])});var g;a:if(e&&0!=e.length){a=e.split("."),a.pop(),d=xb[d];for(g in a)try{d=d[a[g]]}catch(h){g=z;break a}g=d}else g=z;b.parent=g;var i=b.data;return b.value=function(a){return t(i,a)},b.path=c,b}function s(a,b){return b&&!Ia(b.pn_val)?b.pn_val:D(b)?F(b):b}function t(a,b){if(Ia(a)||!b&&Ha(a.pn_val)&&!D(a))return a;var c,d=b?b.split("."):[],e=a;for(c in d){var f=d[c];try{if(Ha(e[f]))return z;e=e[f]}catch(g){return z}}return Ha(e.pn_val)?D(e)?F(e):e:e.pn_val}function v(){Bb={};for(var a in xb)w(a,z,z,z,z,z,function(a){var b,a=m(a);for(b in a){var c=a[b],d=A(b),e={};e.data=d,e.value=function(a){return t(e.data,a)},c(e)}})}function w(a,b,c,d,e,f,g){H({object_id:a,path:b,timetoken:f,next_page:e,callback:function(e){var f=a,h=a;b&&b.length&&(f=f+"."+b,h=b.split(".").pop());var i=e.next_page,e=e.payload.data,j=x(xb,f);j[h]="object"==typeof e?G(j[h],e):e,!i||i&&"null"==i?g&&g(f):(synced=B,w(a,b,c,d,i))},error:function(a){d&&d(a)}})}function x(a,b){var c=b.split(".");if(""==c[c.length-1]&&c.pop(),c.pop(),0==c.length)return a;var d,e=a;for(d in c)e[c[d]]||(e[c[d]]={}),e=e[c[d]];return e}function A(a){var b=[],b=a.split("."),a=b.shift();return a?C(a,b.join(".")):z}function C(a,b){var c=[];b&&(c=b.split("."));var d,e=xb[a];for(d in c)if(c[d]&&0<c[d].length)try{e=e[c[d]]}catch(f){return z}return e}function D(a){for(var b in a)if(a.hasOwnProperty(b)&&0==b.indexOf("-")&&0<b.indexOf("!"))return y;return B}function E(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c.sort(),c}function F(a){var b,c=[],d=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);c.sort();for(var e in c)b=a[c[e]].pn_val,d.push("undefined"!=typeof b?b:D(a[c[e]])?F(a[c[e]]):a[c[e]]);return d}function G(a,b){if(a==z)return b;if(a&&b)for(var c in b)a[c]=a[c]&&"object"==typeof b[c]?G(a[c],b[c]):b[c];return a}function H(a){var b;b=a.callback||b;var c=a.error||P(),d=a.object_id,e=a.path,f=a.page_max_bytes,g=Lb(),a={uuid:$b,auth:a.auth_key||fb};d?eb?(e&&0!=e.length||(e=d.split("."),d=e.shift(),e=e.join(".")),d=[kb,"v1","datasync","sub-key",eb,"obj-id",encodeURIComponent(d)],e&&d.push(encodeURIComponent(e.split(".").join("/"))),"0"!=g&&(a.callback=g),f&&(a.page_max_bytes=f),Hb({a:g,data:W(a),e:function(a){b&&b(a)},d:function(a){J(a,c)},url:d})):Jb("Missing Subscribe Key"):Jb("Missing Object Id")}function I(a,b,c){var d=B,e=Bb[c];if(e&&e.complete==y){var f,e=e.list;for(f in e){var g,h=e[f],i=h;a:{var j=a,k=h,l=k.location.split("."),m=k.action,n=l.length,o=[],p=l.pop();l.shift();var q=j,r=u;for(r in l){try{q[l[r]]&&"object"==typeof q[l[r]]||(q[l[r]]={})}catch(s){q[l[r]]={}}q=q[l[r]],o.push(q)}if("merge"==m||"push"==m||"replace"==m)if(n>0)try{if(q[p].pn_tt&&!(q[p].pn_tt<k.i)){g=z;break a}q[p].pn_val=k.value,q[p].pn_tt=k.i}catch(t){q[p]={},q[p].pn_val=k.value,q[p].pn_tt=k.i}else try{j.pn_tt<k.i&&(j.pn_val=k.value,j.pn_tt=k.i)}catch(v){j={},j.pn_val=k.value,j.pn_tt=k.i}else if("delete"==m&&n>0){for(Ha(q[p])||(k.value=q[p].pn_val),delete q[p],g=o.length-1;g>=1;g--)o[g]&&0==Object.keys(o[g]).length&&delete o[g-1][l[g]];j[l[0]]&&0==Object.keys(j[l[0]]).length&&delete j[l[0]]}g=k.value}i.value=g,Ia(h.value)||(d=y),h.location=h.location.split("pn_ds_")[1],h.key=h.location.split(".")[h.location.split(".").length-1],delete h.la,delete h.i}d&&b&&b(e),delete Bb[c]}}function J(a,b){if("object"==typeof a&&a.error){var c={};a.message&&(c.message=a.message),a.payload&&(c.payload=a.payload),b&&b(c)}else b&&b(a)}function K(a,b,c){if("object"==typeof a){if(a.error)return b={},a.message&&(b.message=a.message),a.payload&&(b.payload=a.payload),void(c&&c(b));if(a.payload)return void(a.next_page?b&&b(a.payload,a.next_page):b&&b(a.payload))}b&&b(a)}function L(a){var b=0;return T(Ga(ub),function(c){(c=ub[c])&&(b++,(a||P())(c))}),b}function M(a){if(Fb){if(!mb.length)return}else{if(a&&(mb.I=0),mb.I||!mb.length)return;mb.I=1}Hb(mb.shift())}function N(){!Eb&&O()}function O(){clearTimeout(wb),!Db||Db>=500||1>Db||!Ga(ub,y).length?Eb=B:(Eb=y,bc.presence_heartbeat({callback:function(){wb=setTimeout(O,Db*S)},error:function(a){Jb&&Jb("Presence Heartbeat unable to reach Pubnub servers."+JSON.stringify(a)),wb=setTimeout(O,Db*S)}}))}function Q(a,b){return _b.decrypt(a,b||Xb)||_b.decrypt(a,Xb)||a}function R(a,b,c){var d=B;if("number"==typeof a)d=a>5||0==a?B:y;else{if("boolean"==typeof a)return a?30:0;d=y}return d?(c&&c("Presence Heartbeat value invalid. Valid range ( x > 5 or x = 0). Current Value : "+(b||5)),b||5):a}function U(a){var b,c="",d=V(a).sort();for(b in d){var e=d[b],c=c+(e+"="+encodeURIComponent(a[e]));b!=d.length-1&&(c+="&")}return c}function V(a){var b=[];return T(a,function(a){b.push(a)}),b}function W(a){return a||(a={}),Kb&&(a.pnr=""+Math.floor(1e20*Math.random()+1)),T(Ib,function(b,c){b in a||(a[b]=c)}),a}function X(a){return gc(a)}function Y(a){function b(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function c(a,b){return a>>>b|a<<32-b}var d;d=a.replace(/\r\n/g,"\n");for(var a="",e=0;e<d.length;e++){var f=d.charCodeAt(e);128>f?a+=String.fromCharCode(f):(f>127&&2048>f?a+=String.fromCharCode(f>>6|192):(a+=String.fromCharCode(f>>12|224),a+=String.fromCharCode(f>>6&63|128)),a+=String.fromCharCode(63&f|128))}for(e=a,d=[],f=0;f<8*e.length;f+=8)d[f>>5]|=(255&e.charCodeAt(f/8))<<24-f%32;var g,h,i,j,k,l,m,n,o,p,q,r=8*a.length,e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],f=Array(64);for(d[r>>5]|=128<<24-r%32,d[(r+64>>9<<4)+15]=r,n=0;n<d.length;n+=16){for(r=a[0],g=a[1],h=a[2],i=a[3],j=a[4],k=a[5],l=a[6],m=a[7],o=0;64>o;o++)f[o]=16>o?d[o+n]:b(b(b(c(f[o-2],17)^c(f[o-2],19)^f[o-2]>>>10,f[o-7]),c(f[o-15],7)^c(f[o-15],18)^f[o-15]>>>3),f[o-16]),p=b(b(b(b(m,c(j,6)^c(j,11)^c(j,25)),j&k^~j&l),e[o]),f[o]),q=b(c(r,2)^c(r,13)^c(r,22),r&g^r&h^g&h),m=l,l=k,k=j,j=b(i,p),i=h,h=g,g=r,r=b(p,q);a[0]=b(r,a[0]),a[1]=b(g,a[1]),a[2]=b(h,a[2]),a[3]=b(i,a[3]),a[4]=b(j,a[4]),a[5]=b(k,a[5]),a[6]=b(l,a[6]),a[7]=b(m,a[7])}for(d="",e=0;e<4*a.length;e++)d+="0123456789abcdef".charAt(a[e>>2]>>8*(3-e%4)+4&15)+"0123456789abcdef".charAt(a[e>>2]>>8*(3-e%4)&15);return d}a.jsonp&&(Wb=0);var Z=a.subscribe_key||"";a.uuid||cc.get(Z+"uuid");var $=a.leave_on_unload||0;a.xdr=Zb,a.db=cc,a.error=a.error||Pb,a._is_online=ac,a.jsonp_cb=Yb,a.hmac_SHA256=Nb,Qa.size(256);var _=Qa.s2a("0123456789012345");a.crypto_obj={encrypt:function(a,b){if(!b)return a;var c=Qa.s2a(Y(b).slice(0,32)),d=Qa.s2a(JSON.stringify(a)),c=Qa.rawEncrypt(d,c,_);return Qa.Base64.encode(c)||a},decrypt:function(a,b){if(!b)return a;var c=Qa.s2a(Y(b).slice(0,32));try{var d=Qa.Base64.decode(a),e=Qa.rawDecrypt(d,c,_,B);return JSON.parse(e)}catch(f){}}},a.params={pnsdk:"PubNub-JS-Web/ds-beta-1.0"};var ab=+a.windowing||10,bb=(+a.timeout||310)*S,cb=a.noleave||0,db=a.publish_key||a.write_key||"demo",eb=a.subscribe_key||a.read_key||"demo",fb=a.auth_key||"",gb=a.secret_key||"",hb=a.hmac_SHA256,ib=a.ssl?"s":"",jb="http"+ib+"://"+(a.origin||"pubsub.pubnub.com"),kb=ua(jb),lb=ua(jb),mb=[],nb=0,ob=0,pb=0,qb=0,rb=a.restore||0,sb=0,tb=B,ub={},vb={},wb=z,xb={},yb={},zb={},Ab={},Bb={},Cb=R(a.heartbeat||a.pnexpires||0,a.error),Db=a.heartbeat_interval||Cb-3,Eb=B,Fb=a.no_wait_for_pending,Gb=a["compatible_3.5"]||B,Hb=a.xdr,Ib=a.params||{},Jb=a.error||P(),Kb=a.build_u,Lb=a.jsonp_cb||function(){return 0},Mb=a.db||{get:P(),set:P()},Xb=a.cipher_key,$b=a.uuid||Mb&&Mb.get(eb+"uuid")||"",_b=a.crypto_obj||{encrypt:function(a){return a},decrypt:function(a){return a}},bc={LEAVE:function(a,b,c,d){var e={uuid:$b,auth:fb},f=ua(jb),c=c||P(),g=d||P(),d=Lb();return 0<a.indexOf(ia)?y:Gb&&(!ib||"0"==d)||cb?B:("0"!=d&&(e.callback=d),Hb({D:b||ib,timeout:2e3,a:d,data:W(e),e:function(a){K(a,c,g)},d:function(a){J(a,g)},url:[f,"v2","presence","sub_key",eb,"channel",encodeURIComponent(a),"leave"]}),y)},set_resumed:function(a){tb=a},get_cipher_key:function(){return Xb},set_cipher_key:function(a){Xb=a},raw_encrypt:function(a,b){return _b.encrypt(a,b||Xb)||a},raw_decrypt:function(a,b){return Q(a,b)},get_heartbeat:function(){return Cb},set_heartbeat:function(a){Cb=R(a,Db,Jb),Db=Cb-3>=1?Cb-3:1,b(),O()},get_heartbeat_interval:function(){return Db},set_heartbeat_interval:function(a){Db=a,O()},get_version:function(){return"ds-beta-1.0"},getGcmMessageObject:function(a){return{data:a}},getApnsMessageObject:function(a){var b={aps:{badge:1,alert:""}};for(k in a)k[b]=a[k];return b},newPnMessage:function(){var a={};gcm&&(a.pn_gcm=gcm),apns&&(a.pn_apns=apns);for(k in n)a[k]=n[k];return a},_add_param:function(a,b){Ib[a]=b},snapshot:function(a,b,c){function d(a,b,c){H({object_id:f,path:g,start_at:a,callback:function(a){h==z&&"object"!=typeof a.payload?b&&b(a.payload.data):(h=G(h,a.payload.data),!a.next_page||a.next_page&&"null"==a.next_page?b&&b(h):d(a.next_page,b,c))},error:c})}c={error:c||P(),callback:function(a){var c={};c.data=JSON.parse(JSON.stringify(a),s),c.value=function(a){return t(c.data,a)},b&&b(c)}},c.object_id=a;var e;e=c.callback||c.success||e;var f=c.object_id,g=c.path;if(Lb(),f)if(eb){var h=z;d(z,e,Jb)}else Jb("Missing Subscribe Key");else Jb("Missing Object Id")},merge:function(a,b,c,d){i({object_id:a,data:b,callback:c,error:d})},replace:function(a,b,c,d){g({object_id:a,data:b,callback:c,error:d})},remove:function(a,b,c){h({object_id:a,callback:b,error:c})},push:function(a,b,c,d){i({object_id:a,data:b,callback:c,error:d,mode:"POST"})},push_with_sort_key:function(a,b,c,d,e){i({object_id:a,sort_key:c,data:b,callback:d,error:e,mode:"POST"})},sync:function(a){var b={},f=a.split(".");b.object_id=f[0],f.shift(),b.path=f.join(".");var k=b.object_id,n=b.path;zb[a]||(zb[a]={ready_called:B,is_ready:B});var u,b={on:{change:function(b){p(a,b,"change")},ready:function(b){p(a,b,"ready")},merge:function(b){p(a,b,"merge")},replace:function(b){p(a,b,"replace")},remove:function(b){p(a,b,"remove")},error:function(b){p(a,b,"error")},resync:function(b){p(a,b,"resync")},network:{connect:function(b){p(a,b,"network.connect")},disconnect:function(b){p(a,b,"network.disconnect")},reconnect:function(b){p(a,b,"network.reconnect")}}},merge:function(a,b){i({object_id:k,path:c(b,n),data:a,callback:e(b),error:d(b)})},replace:function(a,b){g({object_id:k,path:c(b,n),data:a,callback:e(b),error:d(b)})},remove:function(a){h({object_id:k,path:c(a,n),callback:e(a),error:d(a)})},push:function(a,b){var f={object_id:k,path:c(b,n),data:a,callback:e(b),error:d(b),mode:"POST"};b&&!Ha(b.sort_key)&&(f.sort_key=b.sort_key),i(f)}},f={object_id:k,path:n,callback:function(a){if(u=C(k,n),a[0]){var b=a[0].action,c=a[0].location,d=a[0].updateAt,e="";"merge"===b||"push"===b?e="merge":"delete"===b?e="remove":("replace-delete"===b||"replace"===b)&&(e="replace");var f,b=l(c,e),c=l(c,"change");for(f in b)(e=b[f])&&e(r(a,f,d));for(f in c)(b=c[f])&&b(r(a,f,d))}},error:function(b){var c=o(a,"error");c&&c(b)},connect:function(b){var c=o(a,"network.connect");c&&c(b);for(var d in zb)(0==d.indexOf(b+".")||d===b)&&(zb[d].is_ready=y);q()},reconnect:function(b){var c=o(a,"network.reconnect");v(),c&&c(b)},disconnect:function(b){var c=o(a,"network.disconnect");c&&c(b)}},F=f.callback,G=f.error||P(),H=f.connect,J=f.disconnect,K=f.reconnect,L=f.object_id,M=f.path,f=Ha(M)?L:L+"."+M,N=M.split("."),O=N[N.length-1];O&&0!=O.length||(O=L);var Q;a:if(Ab[f])Q=y;else{for(Q in Ab)if(0==f.indexOf(Q+"."))break a;Ab[f]=y,Q=B}if(Q){var R,S=xb[L];for(R in N)(L=N[R])&&0<L.length&&(S[L]||(S[L]={}),S=S[L]);zb[f]&&zb[Q]&&zb[Q].is_ready&&(zb[f].is_ready=y)}else{var T=B;M&&M.split("."),R=x(xb,f),R[O]||(R[O]={}),R="";for(S in Ab)Ab[S]&&(0<R.length&&(R+=","),f=S,R+="pn_ds_"+f+",pn_ds_"+f+".*,pn_dstr_"+f.split(".")[0]);bc.subscribe({channel:R,connect:function(a,b){if(0>a.indexOf("dstr")&&0>a.indexOf("*")){var c=a.split("pn_ds_")[1].split("."),d=c.shift();w(d,c.join("."),F,Jb,z,b,function(a){var b,c=xb[d];for(b in Bb)I(c,F,b);T=y,H&&H(a)})}},callback:function(a,b,c){if(a.location||(a.location=c),100<=b[0].length&&a.location){var d=a.location.split(".")[0].split("pn_ds_")[1];
yb[d]=y}var e=a.trans_id,b=a.status;if(a.action)Bb[e]||(Bb[e]={complete:B,list:[]}),Bb[e].list.push(a);else if(b&&"complete"==b)if(Bb[e])if(d=Bb[e].list[0].location.split(".")[0].split("pn_ds_")[1],yb[d]){var f=function(){delete Bb[e],delete yb[d]};w(d,z,z,z,z,z,function(a){a=m(a),f&&f();for(var b in a){var c=a[b],d=A(b),e={};e.data=d,e.value=function(a){return t(e.data,a)},c(e)}})}else Bb[e].complete=y,xb[d]||(xb[d]={}),T&&I(xb[d],F,e);else v()},error:function(a){var b={message:"Data Sync Error"};a&&a.message&&(b.message=a.message),G(b)},disconnect:function(a){a&&0==a.indexOf("pn_dstr_")&&J&&J()},reconnect:function(a){a&&0==a.indexOf("pn_dstr_")&&K&&K()}})}return u=C(k,n),b.resync=function(){v()},D(C(k,n))&&(b.each=function(b){if(u=C(k,n),!D(u))return z;var c,d=E(u);for(c in d)b&&b(bc.sync(a+"."+d[c]),d[c])}),b.value=function(a){return u=C(k,n),JSON.parse(JSON.stringify(t(u,a),s)||z)},b.location=function(a){return u=C(k,n),t(u,a)},b.child=function(b){return bc.sync(a+"."+b)},b.pop=function(b){if(u=C(k,n),!D(u))return z;var c=E(u).pop();return h({object_id:a+"."+c,callback:e(b),error:d(b)}),t(u[c])},b.removeByIndex=function(b,c){if(u=C(k,n),!D(u))return z;var f=E(u);try{var g=f[b];return h({object_id:a+"."+g,callback:e(c),error:d(c)}),t(u[g])}catch(i){return z}},b.replaceByIndex=function(b,c,f){if(u=C(k,n),!D(u))return z;var g=E(u);try{var h=g[b];return bc.replace({object_id:a+"."+h,data:c,callback:e(f),error:d(f)}),c(u[h])}catch(i){return z}},b.removeByKey=function(b,c){return u=C(k,n),D(u)?(h({object_id:a+"."+b,callback:e(c),error:d(c)}),t(u[b])):z},b.replaceByKey=function(b,c,f){return u=C(k,n),D(u)?(bc.replace({object_id:a+"."+b,data:c,callback:e(f),error:d(f)}),t(u[b])):z},b.removeByValue=function(b,c){if(u=C(k,n),!D(u))return z;var f=j(u,b);return f?(h({object_id:a+"."+f,callback:e(c),error:d(c)}),t(u[f])):z},b.getListElementIDFor=function(a){return u=C(k,n),D(u)?j(u,a):z},b.replaceByValue=function(b,c,f){return u=C(k,n),D(u)&&(b=j(u,b))?(h({object_id:a+"."+b,data:c,callback:e(f),error:d(f)}),t(u[b])):z},b.getByIndex=function(a){if(u=C(k,n),!D(u))return z;var b=E(u);try{return t(u[b[a]])}catch(c){return z}},b},history:function(a,b){var b=a.callback||a.success||b,c=a.count||a.limit||100,d=a.reverse||"false",e=a.error||P(),f=a.auth_key||fb,g=a.cipher_key,h=a.channel,i=a.start,j=a.end,k=a.include_token,l={},m=Lb();return h?eb?(l.stringtoken="true",l.count=c,l.reverse=d,l.auth=f,m&&(l.callback=m),i&&(l.start=i),j&&(l.end=j),k&&(l.include_token="true"),void Hb({a:m,data:W(l),e:function(a){if("object"==typeof a&&a.error)e({message:a.message,payload:a.payload});else{for(var c=a[0],d=[],f=0;f<c.length;f++){var h=Q(c[f],g);try{d.push(JSON.parse(h))}catch(i){d.push(h)}}b([d,a[1],a[2]])}},d:function(a){J(a,e)},url:[kb,"v2","history","sub-key",eb,"channel",encodeURIComponent(h)]})):Jb("Missing Subscribe Key"):Jb("Missing Channel")},replay:function(a,b){var b=b||a.callback||P(),c=a.auth_key||fb,d=a.source,e=a.destination,f=a.stop,g=a.start,h=a.end,i=a.reverse,j=a.limit,k=Lb(),l={};return d?e?db?eb?("0"!=k&&(l.callback=k),f&&(l.stop="all"),i&&(l.reverse="true"),g&&(l.start=g),h&&(l.end=h),j&&(l.count=j),l.auth=c,void Hb({a:k,e:function(a){K(a,b,err)},d:function(){b([0,"Disconnected"])},url:[kb,"v1","replay",db,eb,d,e],data:W(l)})):Jb("Missing Subscribe Key"):Jb("Missing Publish Key"):Jb("Missing Destination Channel"):Jb("Missing Source Channel")},auth:function(a){fb=a,b()},time:function(a){var b=Lb();Hb({a:b,data:W({uuid:$b,auth:fb}),timeout:5*S,url:[kb,"time",b],e:function(b){a(b[0])},d:function(){a(0)}})},publish:function(a,b){var c=a.message;if(!c)return Jb("Missing Message");var b=b||a.callback||c.callback||P(),d=a.channel||c.channel,e=a.auth_key||fb,f=a.cipher_key,g=a.error||c.error||P(),h=a.post||B,i="store_in_history"in a?a.store_in_history:y,j=Lb(),k="push";return a.prepend&&(k="unshift"),d?db?eb?(c.getPubnubMessage&&(c=c.getPubnubMessage()),c=JSON.stringify(_b.encrypt(c,f||Xb)||c),d=[kb,"publish",db,eb,0,encodeURIComponent(d),j],h||d.push(encodeURIComponent(c)),Ib={uuid:$b,auth:e},i||(Ib.store="0"),mb[k]({a:j,timeout:5*S,url:d,body:h?c:z,data:W(Ib),d:function(a){J(a,g),M(1)},e:function(a){K(a,b,g),M(1)},mode:h?"POST":"GET"}),void M()):Jb("Missing Subscribe Key"):Jb("Missing Publish Key"):Jb("Missing Channel")},unsubscribe:function(a,c){var d=a.channel,c=c||a.callback||P(),e=a.error||P();sb=0,d=Ea((d.join?d.join(","):""+d).split(","),function(a){return ub[a]?a+","+a+ia:void 0}).join(","),T(d.split(","),function(a){var b=y;a&&(ca&&(b=bc.LEAVE(a,0,c,e)),b||c({action:"leave"}),ub[a]=0,a in vb&&delete vb[a])}),b()},subscribe:function(a,c){function d(a){a?setTimeout(b,S):(kb=ua(jb,1),lb=ua(jb,1),setTimeout(function(){bc.time(d)},S)),L(function(b){return a&&b.k?(b.k=0,b.da(b.name)):void(!a&&!b.k&&(b.k=1,b.ba(b.name)))})}function e(){var a=Lb(),c=Ga(ub).join(",");if(c){qb&&qb(u,u),qb=z;var f=W({uuid:$b,auth:g});2<JSON.stringify(vb).length&&(f.state=JSON.stringify(vb)),Cb&&(f.heartbeat=Cb),N(),qb=Hb({timeout:q,a:a,d:function(a){J(a,k),bc.time(d)},data:W(f),url:[lb,"subscribe",eb,encodeURIComponent(c),a,sb],e:function(a){if(!a||"object"==typeof a&&"error"in a&&a.error)return k(a.error),setTimeout(b,S);if(l(a[1]),sb=!sb&&rb&&Mb.get(eb)||a[1],L(function(b){b.s||(b.s=1,b.aa(b.name,a[1]))}),tb&&!rb)sb=0,tb=B,Mb.set(eb,0);else{o&&(sb=1e4,o=0),Mb.set(eb,a[1]);var c,d="",d=3<a.length?a[3]:2<a.length?a[2]:Ea(Ga(ub),function(b){return Ea(Array(a[0].length).join(",").split(","),function(){return b})}).join(","),f=d.split(",");c=function(){var a=f.shift()||pb;return[(ub[a]||{}).a||ob,a.split(ia)[0]]};var g=ta()-nb-+a[1]/1e4;T(a[0],function(b){var d=c(),b=Q(b,ub[d[1]]?ub[d[1]].cipher_key:z);d[0](b,a,d[1],g)})}setTimeout(e,r)}})}}var f=a.channel,c=(c=c||a.callback||a.success)||a.message,g=a.auth_key||fb,h=a.connect||P(),i=a.reconnect||P(),j=a.disconnect||P(),k=a.error||P(),l=a.idle||P(),m=a.presence||0,n=a.noheresync||0,o=a.backfill||0,p=a.timetoken||0,q=a.timeout||bb,r=a.windowing||ab,s=a.state,t=a.heartbeat||a.pnexpires,v=a.restore||rb;return rb=v,sb=p,f?eb?((t||0===t)&&bc.set_heartbeat(t),T((f.join?f.join(","):""+f).split(","),function(b){var d=ub[b]||{};ub[pb=b]={name:b,s:d.s,k:d.k,n:1,a:ob=c,cipher_key:a.cipher_key,aa:h,ba:j,da:i},s&&(vb[b]=b in s?s[b]:s),m&&(bc.subscribe({channel:b+ia,callback:m,restore:v}),!d.n&&!n&&bc.here_now({channel:b,callback:function(a){T("uuids"in a?a.uuids:[],function(c){m({action:"join",uuid:c,timestamp:Math.floor(ta()/1e3),occupancy:a.occupancy||1},a,b)})}}))}),b=function(){qb&&qb(u,u),qb=z,setTimeout(e,r)},ca?void b():ha.push(b)):Jb("Missing Subscribe Key"):Jb("Missing Channel")},here_now:function(a,b){var b=a.callback||a.success||b,c=a.error||P(),d=a.auth_key||fb,e=a.channel,f=Lb(),g=a.state,d={uuid:$b,auth:d};return("uuids"in a?a.uuids:1)||(d.disable_uuids=1),g&&(d.state=1),eb?(g=[kb,"v2","presence","sub_key",eb],e&&g.push("channel")&&g.push(encodeURIComponent(e)),"0"!=f&&(d.callback=f),void Hb({a:f,data:W(d),e:function(a){K(a,b,c)},d:function(a){J(a,c)},url:g})):Jb("Missing Subscribe Key")},where_now:function(a,b){var b=a.callback||a.success||b,c=a.error||P(),d=a.auth_key||fb,e=Lb(),f=a.uuid||$b,d={auth:d};return eb?("0"!=e&&(d.callback=e),void Hb({a:e,data:W(d),e:function(a){K(a,b,c)},d:function(a){J(a,c)},url:[kb,"v2","presence","sub_key",eb,"uuid",encodeURIComponent(f)]})):Jb("Missing Subscribe Key")},state:function(a,b){var b=a.callback||b||P(),c=a.error||P(),d=a.auth_key||fb,e=Lb(),f=a.state,g=a.uuid||$b,h=a.channel,d=W({auth:d});return eb?g?h?("0"!=e&&(d.callback=e),ub[h]&&ub[h].n&&f&&(vb[h]=f),d.state=JSON.stringify(f),f=f?[kb,"v2","presence","sub-key",eb,"channel",encodeURIComponent(h),"uuid",g,"data"]:[kb,"v2","presence","sub-key",eb,"channel",encodeURIComponent(h),"uuid",encodeURIComponent(g)],void Hb({a:e,data:W(d),e:function(a){K(a,b,c)},d:function(a){J(a,c)},url:f})):Jb("Missing Channel"):Jb("Missing UUID"):Jb("Missing Subscribe Key")},grant:function(a,b){var b=a.callback||a.success||b,c=a.error||P(),d=a.channel,e=a.object_id,f=Lb(),g=a.ttl,h=a.read?"1":"0",i=a.write?"1":"0",j=a.auth_key;if(!eb)return Jb("Missing Subscribe Key");if(!db)return Jb("Missing Publish Key");if(!gb)return Jb("Missing Secret Key");var k=eb+"\n"+db+"\ngrant\n",h={w:i,r:h,timestamp:Math.floor((new Date).getTime()/1e3)};"undefined"!=d&&d!=z&&0<d.length&&(h.channel=d),"undefined"!=e&&e!=z&&0<e.length&&(h["obj-id"]=e),"0"!=f&&(h.callback=f),(g||0===g)&&(h.ttl=g),j&&(h.auth=j),h=W(h),j||delete h.auth,k+=U(h),d=hb(k,gb),d=d.replace(/\+/g,"-"),d=d.replace(/\//g,"_"),h.signature=d,Hb({a:f,data:h,e:function(a){K(a,b,c)},d:function(a){J(a,c)},url:[kb,"v1","auth","grant","sub-key",eb]})},audit:function(a,b){var b=a.callback||a.success||b,c=a.error||P(),d=a.channel,e=a.object_id,f=a.auth_key,g=Lb();if(!eb)return Jb("Missing Subscribe Key");if(!db)return Jb("Missing Publish Key");if(!gb)return Jb("Missing Secret Key");var h=eb+"\n"+db+"\naudit\n",i={timestamp:Math.floor((new Date).getTime()/1e3)};"0"!=g&&(i.callback=g),"undefined"!=d&&d!=z&&0<d.length&&(i.channel=d),"undefined"!=e&&e!=z&&0<e.length&&(i["obj-id"]=e),f&&(i.auth=f),i=W(i),f||delete i.auth,h+=U(i),d=hb(h,gb),d=d.replace(/\+/g,"-"),d=d.replace(/\//g,"_"),i.signature=d,Hb({a:g,data:i,e:function(a){K(a,b,c)},d:function(a){J(a,c)},url:[kb,"v1","auth","audit","sub-key",eb]})},revoke:function(a,b){a.read=B,a.write=B,bc.grant(a,b)},set_uuid:function(a){$b=a,b()},get_uuid:function(){return $b},presence_heartbeat:function(a){var b=a.callback||P(),c=a.error||P(),a=Lb(),d={uuid:$b,auth:fb};2<JSON.stringify(vb).length&&(d.state=JSON.stringify(vb)),Cb>0&&320>Cb&&(d.heartbeat=Cb),"0"!=a&&(d.callback=a),Hb({a:a,data:W(d),timeout:5*S,url:[kb,"v2","presence","sub-key",eb,"channel",Fa(Ga(ub,y).join(",")),"heartbeat"],e:function(a){K(a,b,c)},d:function(a){J(a,c)}})},xdr:Hb,ready:Pa,db:Mb,uuid:wa,map:Ea,each:T,"each-channel":L,grep:Ca,offline:function(){var a={message:"Offline. Please check your network settings."};qb&&qb(1,a),qb=z},supplant:Da,now:ta,unique:sa,updater:Ba};$b||($b=bc.uuid()),Mb.set(eb+"uuid",$b);var wb=setTimeout(N,(Db-3)*S),dc=ta();bc.time(function(a){a&&(nb=ta()-(a/1e4+(ta()-dc)/2))});var fc,Z=bc;for(fc in Z)Z.hasOwnProperty(fc)&&(X[fc]=Z[fc]);return X.css=Ub,X.$=Ob,X.create=Vb,X.bind=Rb,X.head=Sb,X.search=Qb,X.attr=Tb,X.events=ec,X.init=X,X.secure=X,Rb("beforeunload",window,function(){return $&&X["each-channel"](function(a){X.LEAVE(a.name,0)}),y}),a.notest?X:(Rb("offline",window,X.offline),Rb("offline",document,X.offline),X)};gc.init=gc,gc.secure=gc,"complete"===document.readyState?setTimeout(Pa,0):Rb("load",window,function(){setTimeout(Pa,0)});var hc=fc||{};PUBNUB=gc({notest:1,publish_key:Tb(hc,"pub-key"),subscribe_key:Tb(hc,"sub-key"),ssl:!document.location.href.indexOf("https")||"on"==Tb(hc,"ssl"),origin:Tb(hc,"origin"),uuid:Tb(hc,"uuid")}),window.jQuery&&(window.jQuery.PUBNUB=gc),"undefined"!=typeof module&&(module.exports=PUBNUB)&&Pa();var bc=Ob("pubnubs")||0;fc&&(Ub(fc,{position:"absolute",top:-S}),("opera"in window||Tb(fc,"flash"))&&(fc.innerHTML="<object id=pubnubs data=https://pubnub.a.ssl.fastly.net/pubnub.swf><param name=movie value=https://pubnub.a.ssl.fastly.net/pubnub.swf><param name=allowscriptaccess value=always></object>"),PUBNUB.rdx=function(a,b){return b?(Xb[a].responseText=unescape(b),void Xb[a].onload()):Xb[a].onerror()},Xb.id=S)}var ic=PUBNUB.ws=function(a,b){if(!(this instanceof ic))return new ic(a,b);var c=this,a=c.url=a||"";c.protocol=b||"Sec-WebSocket-Protocol";var d=a.split("/"),d={ssl:"wss:"===d[0],origin:d[2],publish_key:d[3],subscribe_key:d[4],channel:d[5]};return c.CONNECTING=0,c.OPEN=1,c.CLOSING=2,c.CLOSED=3,c.CLOSE_NORMAL=1e3,c.CLOSE_GOING_AWAY=1001,c.CLOSE_PROTOCOL_ERROR=1002,c.CLOSE_UNSUPPORTED=1003,c.CLOSE_TOO_LARGE=1004,c.CLOSE_NO_STATUS=1005,c.CLOSE_ABNORMAL=1006,c.onclose=c.onerror=c.onmessage=c.onopen=c.onsend=P(),c.binaryType="",c.extensions="",c.bufferedAmount=0,c.trasnmitting=B,c.buffer=[],c.readyState=c.CONNECTING,a?(c.m=PUBNUB.init(d),c.m.J=d,c.J=d,void c.m.subscribe({restore:B,channel:d.channel,disconnect:c.onerror,reconnect:c.onopen,error:function(){c.onclose({code:c.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:B})},callback:function(a){c.onmessage({data:a})},connect:function(){c.readyState=c.OPEN,c.onopen()}})):(c.readyState=c.CLOSED,c.onclose({code:c.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:y}),c)};ic.prototype.send=function(a){var b=this;b.m.publish({channel:b.m.J.channel,message:a,callback:function(a){b.onsend({data:a})}})};var jc;if(!(jc=X)){var kc=Math,lc={},Bc=lc.t={},Cc=P(),Dc=Bc.L={extend:function(a){Cc.prototype=this;var b=new Cc;return a&&b.ca(a),b.hasOwnProperty("init")||(b.b=function(){b.K.b.apply(this,arguments)}),b.b.prototype=b,b.K=this,b},create:function(){var a=this.extend();return a.b.apply(a,arguments),a},b:P(),ca:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},g:function(){return this.b.prototype.extend(this)}},Fc=Bc.u=Dc.extend({b:function(a,b){a=this.f=a||[],this.c=b!=u?b:4*a.length},toString:function(a){return(a||Ec).stringify(this)},concat:function(a){var b=this.f,c=a.f,d=this.c,a=a.c;if(this.q(),d%4)for(var e=0;a>e;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;a>e;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.c+=a,this},q:function(){var a=this.f,b=this.c;a[b>>>2]&=4294967295<<32-8*(b%4),a.length=kc.ceil(b/4)},g:function(){var a=Dc.g.call(this);return a.f=this.f.slice(0),a},random:function(a){for(var b=[],c=0;a>c;c+=4)b.push(4294967296*kc.random()|0);return new Fc.b(b,a)}}),Gc=lc.G={},Ec=Gc.ga={stringify:function(a){for(var b=a.f,a=a.c,c=[],d=0;a>d;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16)),c.push((15&e).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new Fc.b(c,b/2)}},Hc=Gc.ia={stringify:function(a){for(var b=a.f,a=a.c,c=[],d=0;a>d;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return new Fc.b(c,b)}},Ic=Gc.R={stringify:function(a){try{return decodeURIComponent(escape(Hc.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return Hc.parse(unescape(encodeURIComponent(a)))}},Jc=Bc.fa=Dc.extend({reset:function(){this.j=new Fc.b,this.p=0},v:function(a){"string"==typeof a&&(a=Ic.parse(a)),this.j.concat(a),this.p+=a.c},A:function(a){var b=this.j,c=b.f,d=b.c,e=this.C,f=d/(4*e),f=a?kc.ceil(f):kc.max((0|f)-this.Y,0),a=f*e,d=kc.min(4*a,d);if(a){for(var g=0;a>g;g+=e)this.V(c,g);g=c.splice(0,a),b.c-=d}return new Fc.b(g,d)},g:function(){var a=Dc.g.call(this);return a.j=this.j.g(),a},Y:0});Bc.O=Jc.extend({F:Dc.extend(),b:function(a){this.F=this.F.extend(a),this.reset()},reset:function(){Jc.reset.call(this),this.W()},update:function(a){return this.v(a),this.A(),this},h:function(a){return a&&this.v(a),this.U()},C:16,S:function(a){return function(b,c){return new a.b(c).h(b)}},T:function(a){return function(b,c){return new Kc.M.b(a,c).h(b)}}});var Kc=lc.B={};jc=lc}for(var X=jc,Lc=Math,Mc=X.t,Nc=Mc.u,Oc=Mc.O,Mc=X.B,Pc=[],Qc=[],Rc=2,ad=0;64>ad;){var bd;a:{bd=Rc;for(var cd=Lc.sqrt(bd),dd=2;cd>=dd;dd++)if(!(bd%dd)){bd=B;break a}bd=y}bd&&(8>ad&&(Pc[ad]=4294967296*(Lc.pow(Rc,.5)-(0|Lc.pow(Rc,.5)))|0),Qc[ad]=4294967296*(Lc.pow(Rc,1/3)-(0|Lc.pow(Rc,1/3)))|0,ad++),Rc++}var ed=[],Mc=Mc.Q=Oc.extend({W:function(){this.l=new Nc.b(Pc.slice(0))},V:function(a,b){for(var c=this.l.f,d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=0;64>l;l++){if(16>l)ed[l]=0|a[b+l];else{var m=ed[l-15],n=ed[l-2];ed[l]=((m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3)+ed[l-7]+((n<<15|n>>>17)^(n<<13|n>>>19)^n>>>10)+ed[l-16]}m=k+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&i^~h&j)+Qc[l]+ed[l],n=((d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22))+(d&e^d&f^e&f),k=j,j=i,i=h,h=g+m|0,g=f,f=e,e=d,d=m+n|0}c[0]=c[0]+d|0,c[1]=c[1]+e|0,c[2]=c[2]+f|0,c[3]=c[3]+g|0,c[4]=c[4]+h|0,c[5]=c[5]+i|0,c[6]=c[6]+j|0,c[7]=c[7]+k|0},U:function(){var a=this.j,b=a.f,c=8*this.p,d=8*a.c;return b[d>>>5]|=128<<24-d%32,b[(d+64>>>9<<4)+14]=Lc.floor(c/4294967296),b[(d+64>>>9<<4)+15]=c,a.c=4*b.length,this.A(),this.l},g:function(){var a=Oc.g.call(this);return a.l=this.l.g(),a}});X.Q=Oc.S(Mc),X.ha=Oc.T(Mc);var fd=X.G.R;X.B.M=X.t.L.extend({b:function(a,b){a=this.o=new a.b,"string"==typeof b&&(b=fd.parse(b));var c=a.C,d=4*c;b.c>d&&(b=a.h(b)),b.q();for(var e=this.Z=b.g(),f=this.X=b.g(),g=e.f,h=f.f,i=0;c>i;i++)g[i]^=1549556828,h[i]^=909522486;e.c=f.c=d,this.reset()},reset:function(){var a=this.o;a.reset(),a.update(this.X)},update:function(a){return this.o.update(a),this},h:function(a){var b=this.o,a=b.h(a);return b.reset(),b.h(this.Z.g().concat(a))}});var gd=X.t.u;X.G.ea={stringify:function(a){var b=a.f,c=a.c,d=this.z;a.q();for(var a=[],e=0;c>e;e+=3)for(var f=(b[e>>>2]>>>24-8*(e%4)&255)<<16|(b[e+1>>>2]>>>24-8*((e+1)%4)&255)<<8|b[e+2>>>2]>>>24-8*((e+2)%4)&255,g=0;4>g&&c>e+.75*g;g++)a.push(d.charAt(f>>>6*(3-g)&63));if(b=d.charAt(64))for(;a.length%4;)a.push(b);return a.join("")},parse:function(a){var b=a.length,c=this.z,d=c.charAt(64);d&&(d=a.indexOf(d),-1!=d&&(b=d));for(var d=[],e=0,f=0;b>f;f++)f%4&&(d[e>>>2]|=(c.indexOf(a.charAt(f-1))<<2*(f%4)|c.indexOf(a.charAt(f))>>>6-2*(f%4))<<24-8*(e%4),e++);return gd.create(d,e)},z:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}();